<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>kissy 瀑布流布局</title>
</head>
<style>
  .container {
    position: relative;
    width: 1081px;
    margin: 0 auto;
  }

  .ks-waterfall {
    position: absolute;
    width: 232px;
    overflow: hidden;
    padding: 15px;
    border: 2px solid #DDD;
    margin-bottom: 20px;
    text-align: center;
    left: -9999px;
    top: -9999px;
  }

  .ks-waterfall img {
    width: 100%;
  }
</style>

<body>
  <div id="container" class="container">
    <div class="ks-waterfall">
      <img src="../source/img/11.jpg" alt="" width="100%" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/12.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/13.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/14.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/5.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/6.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/7.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>
    <div class="ks-waterfall">
      <img src="../source/img/8.jpg" alt="" />
      <div class="title">waterfall item</div>
    </div>

  </div>
</body>

<!-- <script src="../source/js/kissy-min.js"></script>
<script src="../source/js/seed-min.js"></script> -->
<script type="text/javascript" src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js"></script>
<script type="text/javascript" src="http://a.tbcdn.cn/s/kissy/1.3.0/seed-min.js"></script>
<script src="../source/js/jquery-2.2.4.js"></script>
<script>
  KISSY.use("waterfall", function (S, Waterfall) {
    new Waterfall({
      container: "#container", //节点容器
      minColCount: 2, //最小列数
      colWidth: 270 //每列的宽度
    });
  });

  // todo: 动态加载
  /*KISSY.use('waterfall, ajax, node, button', function (S, Waterfall, IO, Node, Button) {
    var tpl = ($('#tpl').html()),
      nextpage = 1,
      waterfall = new Waterfall.Loader({
        container: "#container",
        minColCount: 2,
        colWidth: 270,
        load: function (success, end) {
          new IO({
            data: {
              'page': nextpage,
              'per_page': 10,
              'format': 'json'
            },
            url: 'test.php',
            dataType: 'json',
            success: function (d) {
              nextpage = parseInt(d['nextpage']) + 1;
              if (nextpage > d['pagenum']) {
                end();
                return;
              }

              var items = [];
              S.each(d['photo'], function (item) {
                items.push(new S.Node(S.substitute(tpl, item))); //tpl.render(item) 前面提到的通过模版生成内容。
              });
              success(items);
            }
          })
        }
      });
  })*/
  // 官网：http://docs.kissyui.com/1.3/docs/html/api/component/waterfall/
</script>

</html>
